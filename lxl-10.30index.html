<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>随机背景色</title>
    <script src="jquery.min.js"></script>
    <style>
        *{
            margin: 0px;
            padding: 0px;
        }
        #hh{
            position: fixed;
            top: 50%;
            left: 40%;
            width: 150px;
            height: 50px;
            border-radius: 5px;
            text-align: center;
            line-height: 50px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <ul id="myul">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <div id="hh">点我也能换颜色哦~</div>
    <script type="text/javascript">
        var rand4 = parseInt(Math.random() * (255 + 1) ,10);
        var myli = document.getElementsByTagName('li');
        
        var a = true;
        $("ul").css({
            width:'500px',
            height:'100px',
            display:'block',
            margin:'0 auto',
            position:'relative',
            marginTop:'50px'
            });
        $("li").css({
            width:'100px',
            height:'100%',
            display:'block',
            margin:'0 auto',
            borderRadius:'50%',
            position:'absolute',
            top:'0px',
            left:'0px',
            float:'left',
            transition:'0.5s',
            border:'1px solid deepskyblue'
            });
            var r1 = parseInt(Math.random() * (255 + 1) ,10);
            var r2 = parseInt(Math.random() * (255 + 1) ,10);
            var r3 = parseInt(Math.random() * (255 + 1) ,10);
            myli[0].style.backgroundColor='rgb('+r1+','+r2+','+r3+')';
            hh.style.backgroundColor='rgb('+r3+','+r1+','+r2+')';
            // $("li:first").click("nmsl");
            // myli[0].onclick=nmsl;
            console.log($("li").eq(2));
            // $("ul").click(nmsl);
            $("li").eq(0).click(nmsl);
            $("li").eq(0).css("z-index","10");
            hh.onclick=nmsl;
                function nmsl(){
                if(a){
                    for(var i = 0;i<$("li").length;i++){
                        var rand1 = parseInt(Math.random() * (255 + 1) ,10);
                        var rand2 = parseInt(Math.random() * (255 + 1) ,10);
                        var rand3 = parseInt(Math.random() * (255 + 1) ,10);
                        // $("li:first").css("backgroundColor",'rgb('+rand1+','+rand2+','+rand3+')');
                        myli[i].style.backgroundColor='rgb('+rand1+','+rand2+','+rand3+')';
                        myli[i].style.transform='translateX('+i*100+'px)';
                        // myli[i].style.display='block';
                        myli[i].onclick=function(){
                            document.body.style.backgroundColor=this.style.backgroundColor;
                            console.log(this.style.backgroundColor);
                        }
                        $("li:first").css({
                            transform:"scale(1.5) translateX(-16px)",
                            zIndex:"10",
                        });
                };
                
                a=false;
                }else{
                    for(var i = 0;i<$("li").length;i++){
                        var rand1 = parseInt(Math.random() * (255 + 1) ,10);
                        var rand2 = parseInt(Math.random() * (255 + 1) ,10);
                        var rand3 = parseInt(Math.random() * (255 + 1) ,10);
                        myli[i].style.backgroundColor='rgb('+rand1+','+rand2+','+rand3+')';
                        myli[i].style.transform='translateX(0px)';
                        // myli[i].style.display='none';
                        myli[i].onclick=function(){
                            document.body.style.backgroundColor=this.style.backgroundColor;
                            console.log(this.style.backgroundColor);
                        }
                        $("li:first").css({
                            transform:"scale(1.5) translateX(0px)",
                            zIndex:"10",
                        });
                }
                a=true;
                }
            }
            $("li:first").css("transform","scale(1.5)");
    </script>
</body>
</html>
